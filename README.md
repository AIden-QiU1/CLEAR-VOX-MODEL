# ï¿½ï¿½ CLEAR-VOX-MODEL: æ„éŸ³éšœç¢è¯­éŸ³è¯†åˆ«ç³»ç»Ÿ

> **CLEAR-VOX** (CLear spEech for All: Recognition Voice OXygen)  
> é¢å‘ä¸­æ–‡æ„éŸ³éšœç¢ï¼ˆDysarthriaï¼‰åœºæ™¯çš„è¯­éŸ³è¯†åˆ«ç ”ç©¶ä¸å·¥ç¨‹é¡¹ç›®

[![FunASR](https://img.shields.io/badge/FunASR-1.2.9-blue)](https://github.com/modelscope/FunASR)
[![Python](https://img.shields.io/badge/Python-3.10+-green)](https://python.org)
[![License](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey)](LICENSE)

---

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

### æ ¸å¿ƒç›®æ ‡
- ğŸ¯ æå‡æ„éŸ³éšœç¢è¯­éŸ³çš„ ASR å‡†ç¡®ç‡ (ç›®æ ‡ CER < 20%)
- ğŸ¯ æ”¯æŒ CDSD (Chinese Dysarthria Speech Database) æ•°æ®é›†
- ğŸ¯ é‡‡ç”¨ Paraformer-large â†’ æµå¼ä¼˜åŒ– çš„æ¸è¿›å¼è·¯çº¿
- ğŸ¯ æ„å»º ASR + Agent + TTS æ— éšœç¢äº¤äº’ç³»ç»Ÿ
- ğŸ¯ æ”¯æŒå•å¡ RTX 3090/4090 æœ¬åœ°è®­ç»ƒ

### å½“å‰è¿›åº¦

| é˜¶æ®µ | ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| æ•°æ®å‡†å¤‡ | 1h æ•°æ®é›†å¤„ç† | âœ… å®Œæˆ | 55,851 æ¡è¯­éŸ³ |
| ç¯å¢ƒé…ç½® | FunASR å®‰è£… | âœ… å®Œæˆ | NumPy 1.26.4 |
| åŸºçº¿æµ‹è¯• | åŸå§‹æ¨¡å‹ CER | âœ… å®Œæˆ | **82.50%** (3400æ ·æœ¬) |
| æ¨¡å‹å¾®è°ƒ | Paraformer å¾®è°ƒ | â³ å¾…æ‰§è¡Œ | è„šæœ¬å·²å°±ç»ª |
| Agent é›†æˆ | LLM å¯¹è¯ | ğŸ”œ è®¡åˆ’ä¸­ | - |
| TTS é›†æˆ | è¯­éŸ³åˆæˆ | ğŸ”œ è®¡åˆ’ä¸­ | - |

---

## ğŸ”¬ æŠ€æœ¯æ¶æ„

### ä¸‰é˜¶æ®µå¼€å‘è·¯çº¿å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç¬¬ä¸€é˜¶æ®µï¼šä½èµ„æºåŸºç¡€ç‰ˆ (å½“å‰)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  ASR        â”‚â”€â”€â”€â”€â–¶â”‚  Agent      â”‚â”€â”€â”€â”€â–¶â”‚  TTS        â”‚       â”‚
â”‚  â”‚  Paraformer â”‚     â”‚  LLM API    â”‚     â”‚  VITS/GPT   â”‚       â”‚
â”‚  â”‚  (éæµå¼)    â”‚     â”‚  (ä½å»¶è¿Ÿ)    â”‚     â”‚  (éæµå¼)    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â”‚  â€¢ ASR CER ç›®æ ‡: < 20% (ä¼˜äºäººç±»åŸºçº¿ 20.45%)                      â”‚
â”‚  â€¢ ç«¯åˆ°ç«¯å»¶è¿Ÿ: 5-10s (å¯æ¥å—)                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç¬¬äºŒé˜¶æ®µï¼šæµå¼å®æ—¶ä¼˜åŒ–                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  ASR        â”‚â”€â”€â”€â”€â–¶â”‚  Agent      â”‚â”€â”€â”€â”€â–¶â”‚  TTS        â”‚       â”‚
â”‚  â”‚  Paraformer â”‚     â”‚  LLM        â”‚     â”‚  GPT-SoVITS â”‚       â”‚
â”‚  â”‚  (æµå¼)     â”‚     â”‚  (æµå¼è¾“å‡º)  â”‚     â”‚  (æµå¼)     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       â†“                   â†“                   â†“                 â”‚
â”‚    600ms              é€token             æµå¼åˆæˆ               â”‚
â”‚                                                                 â”‚
â”‚  â€¢ ç«¯åˆ°ç«¯é¦–å“åº”: < 1.5s                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç¬¬ä¸‰é˜¶æ®µï¼šç²¾åº¦ä¸èƒ½åŠ›ä¼˜åŒ–                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â€¢ ASR CER ç›®æ ‡: < 16.4% (è¾¾åˆ° CDSD SOTA)                        â”‚
â”‚  â€¢ å¤šè¯´è¯äººæ”¯æŒ (ä¼šè®®å®¤/åœ¨é‡åœºæ™¯)                                  â”‚
â”‚  â€¢ Agent RAG å¢å¼º                                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å‹é€‰æ‹©

| æ¨¡å‹ | å‚æ•°é‡ | æ˜¾å­˜å ç”¨ | ç‰¹ç‚¹ | æ¨èåº¦ |
|------|--------|----------|------|--------|
| **Paraformer-large** | 220M | ~8GB | éè‡ªå›å½’ï¼Œé€Ÿåº¦å¿«ï¼Œç²¾åº¦é«˜ | â­â­â­â­â­ |
| SenseVoice-Small | 330M | ~12GB | å¤šåŠŸèƒ½(ASR+æƒ…æ„Ÿ) | â­â­â­â­ |
| Conformer-12e6d | ~100M | ~6GB | ç»å…¸æ¶æ„ï¼Œæ˜“è°ƒä¼˜ | â­â­â­ |

**æœ€ç»ˆé€‰æ‹©**: Paraformer-large
- éè‡ªå›å½’æ¶æ„ï¼Œæ¨ç†é€Ÿåº¦å¿«10å€
- 60000å°æ—¶ä¸­æ–‡é¢„è®­ç»ƒ
- å®Œæ•´çš„å¾®è°ƒä»£ç æ”¯æŒ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
CLEAR-VOX-MODEL/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ 1h_dataset/           # å¤„ç†åçš„è®­ç»ƒæ•°æ®
â”‚   â”‚   â”œâ”€â”€ train.jsonl       # è®­ç»ƒé›† (45,327æ¡)
â”‚   â”‚   â”œâ”€â”€ val.jsonl         # éªŒè¯é›† (4,460æ¡)
â”‚   â”‚   â”œâ”€â”€ test.jsonl        # æµ‹è¯•é›† (6,064æ¡)
â”‚   â”‚   â””â”€â”€ data_statistics.txt
â”‚   â””â”€â”€ list/                 # æ•°æ®æ¸…å•
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ prepare_1h_dataset.py # æ•°æ®å‡†å¤‡è„šæœ¬
â”‚   â”œâ”€â”€ finetune_paraformer.sh # å¾®è°ƒè®­ç»ƒè„šæœ¬
â”‚   â””â”€â”€ inference_test.py     # æ¨ç†æµ‹è¯•è„šæœ¬
â”œâ”€â”€ exp/
â”‚   â”œâ”€â”€ baseline_results.json # åŸºçº¿æµ‹è¯•ç»“æœ
â”‚   â””â”€â”€ paraformer_finetune_1h/ # å¾®è°ƒæ¨¡å‹è¾“å‡º
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ FINETUNE_MANUAL_v2.md # å¾®è°ƒæ‰‹å†Œ
â”‚   â””â”€â”€ TECHNICAL_ROADMAP.md  # æŠ€æœ¯è·¯çº¿å›¾
â””â”€â”€ funasr/                   # FunASR æºç 
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n funasr python=3.10 -y
conda activate funasr

# å®‰è£…ä¾èµ–
pip install torch==2.1.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu121
pip install -U funasr modelscope
pip install "numpy<2"  # é‡è¦ï¼šè§£å†³å…¼å®¹æ€§é—®é¢˜

# å®‰è£… ffmpeg
sudo apt install ffmpeg
```

### 2. éªŒè¯å®‰è£…

```python
from funasr import AutoModel
model = AutoModel(model="iic/speech_paraformer-large_asr_nat-zh-cn-16k-common-vocab8404-pytorch")
print("Installation OK!")
```

### 3. æ•°æ®å‡†å¤‡

```bash
cd /root/CLEAR-VOX-MODEL
python scripts/prepare_1h_dataset.py

# æ£€æŸ¥æ•°æ®
cat data/1h_dataset/data_statistics.txt
```

### 4. åŸºçº¿æµ‹è¯•

```bash
python scripts/inference_test.py \
  --model "iic/speech_paraformer-large_asr_nat-zh-cn-16k-common-vocab8404-pytorch" \
  --test data/1h_dataset/test.jsonl \
  --output exp/baseline_results.json \
  --max_samples 100
```

### 5. å¼€å§‹å¾®è°ƒ

```bash
bash scripts/finetune_paraformer.sh
```

### 6. æµ‹è¯•å¾®è°ƒæ¨¡å‹

```bash
python scripts/inference_test.py \
  --model exp/paraformer_finetune_1h/model.pt.avg_10 \
  --test data/1h_dataset/test.jsonl \
  --output exp/finetune_results.json
```

---

## ğŸ“Š å®éªŒç»“æœ

### æ•°æ®é›†ç»Ÿè®¡ (1h å­é›†)

| åˆ’åˆ† | è¯´è¯äººæ•° | è¯­éŸ³æ¡æ•° |
|------|----------|----------|
| è®­ç»ƒé›† | 35 | 45,327 |
| éªŒè¯é›† | 4 | 4,460 |
| æµ‹è¯•é›† | 5 | 6,064 |
| **æ€»è®¡** | **44** | **55,851** |

### CER è¯„æµ‹ç»“æœ

| æ¨¡å‹ | CER | è¯´æ˜ |
|------|-----|------|
| Paraformer-large (åŸå§‹) | **82.50%** | æœªé€‚åº”æ„éŸ³éšœç¢ |
| Paraformer-large (å¾®è°ƒ) | ğŸ”œ å¾…æµ‹ | å¾®è°ƒåé¢„æœŸ 16-22% |
| CDSDè®ºæ–‡æœ€ä½³ | 16.4% | Hybrid CTC/Attention |
| äººç±»è¯„ä¼°è€… | 20.45% | CDSDè®ºæ–‡äººç±»åŸºçº¿ |

### è¯„æµ‹æŒ‡æ ‡è¯´æ˜

| æŒ‡æ ‡ | å…¨ç§° | è®¡ç®—æ–¹å¼ | ç”¨é€” |
|------|------|----------|------|
| **CER** | Character Error Rate | (æ›¿æ¢+åˆ é™¤+æ’å…¥)/æ€»å­—æ•° Ã— 100% | ä¸­æ–‡ASRä¸»è¦æŒ‡æ ‡ |
| WER | Word Error Rate | æŒ‰è¯è®¡ç®— | è‹±æ–‡ASR |
| RTF | Real-Time Factor | å¤„ç†æ—¶é—´/éŸ³é¢‘æ—¶é•¿ | é€Ÿåº¦è¯„ä¼° |

**CER è´¨é‡æ ‡å‡†**:
- 1-5%: â­â­â­â­â­ ä¼˜ç§€ (å•†ç”¨çº§)
- 5-10%: â­â­â­â­ è‰¯å¥½
- 10-20%: â­â­â­ å¯ç”¨
- 20-50%: â­â­ è¾ƒå·®
- >50%: â­ å¾ˆå·®

---

## âš™ï¸ è®­ç»ƒé…ç½®

### å…³é”®å‚æ•° (v2.0 æ ¡éªŒå)

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| batch_size | 6000 tokens | 3090å•å¡ |
| learning_rate | 0.0002 | å®˜æ–¹æ¨è |
| max_epoch | 50 | å°æ•°æ®é›†å¯å¢åŠ  |
| validate_interval | 2000 | æ¯2000æ­¥éªŒè¯ |
| keep_nbest_models | 10 | èŠ‚çœå­˜å‚¨ |
| avg_nbest_model | 10 | æœ€ä½³Nä¸ªæ¨¡å‹å¹³å‡ |

### æ˜¾å­˜ä¸è¶³æ—¶

```bash
# é™ä½ batch_size
++dataset_conf.batch_size=4000
# æˆ–
++dataset_conf.batch_size=2000
```

---

## ğŸ“š å‚è€ƒæ–‡çŒ®

### CDSD æ•°æ®é›†è®ºæ–‡
> **CDSD: Chinese Dysarthria Speech Database**  
> - ä¼šè®®: INTERSPEECH 2024  
> - è§„æ¨¡: 133 å°æ—¶ï¼Œ44ä½è¯´è¯äºº  
> - æœ€ä½³ç»“æœ: CER 16.4% (Hybrid CTC/Attention)  
> - äººç±»åŸºçº¿: CER 20.45%  
> - arXiv: https://arxiv.org/abs/2310.15930

### FunASR æ¡†æ¶
> - GitHub: https://github.com/modelscope/FunASR  
> - æ–‡æ¡£: https://funasr.readthedocs.io  
> - ModelScope: https://modelscope.cn

### Paraformer è®ºæ–‡
> **Paraformer: Fast and Accurate Parallel Transformer for Non-autoregressive End-to-End Speech Recognition**  
> - arXiv: https://arxiv.org/abs/2206.08317

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **CC BY-NC-SA 4.0** (ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«) è®¸å¯è¯ã€‚

[![CC BY-NC-SA 4.0](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg)](LICENSE)

### æ‚¨å¯ä»¥è‡ªç”±åœ°ï¼š
- âœ… **åˆ†äº«** â€” åœ¨ä»»ä½•åª’ä»‹ä»¥ä»»ä½•å½¢å¼å¤åˆ¶ã€å‘è¡Œæœ¬ä½œå“
- âœ… **æ¼”ç»** â€” ä¿®æ”¹ã€è½¬æ¢æˆ–ä»¥æœ¬ä½œå“ä¸ºåŸºç¡€è¿›è¡Œåˆ›ä½œ

### æ¡ä»¶ï¼š
- ğŸ“ **ç½²å** â€” æ‚¨å¿…é¡»ç»™å‡ºé€‚å½“çš„ç½²å
- ğŸš« **éå•†ä¸šæ€§ä½¿ç”¨** â€” æ‚¨ä¸å¾—å°†æœ¬ä½œå“ç”¨äºå•†ä¸šç›®çš„
- ğŸ”„ **ç›¸åŒæ–¹å¼å…±äº«** â€” è¡ç”Ÿä½œå“å¿…é¡»é‡‡ç”¨ç›¸åŒçš„è®¸å¯è¯

> âš ï¸ **å•†ç”¨è¯´æ˜**ï¼šå¦‚éœ€å•†ä¸šä½¿ç”¨ï¼Œè¯·è”ç³»ä½œè€…è·å–æˆæƒã€‚

---

**ä½œè€…**: CLEAR-VOX Team  
**æœ€åæ›´æ–°**: 2025-12-23  
**ç‰ˆæœ¬**: v2.0
